# predictive_analytics_viz

### A visualization web app for predictive analysis on HR datasets.

## Brief Description

This application depicts the Jupyter notebook processs by running a python script against a specifically formatted HR dataset supplied by a user. It uses node as the web server, extracting and displaying the graphs and tables generated by the python script on a web page.

Fun huh?!ðŸ˜‰

# Dependencies

### Ipython

It uses the IPython interactive shell. The is a kernel for Jupyter that supports interactive data visualization and use of GUI toolkits.

The `ipython` command is used to run the python script through the `exec` node child process

### Orca

Outputs of offline graphs can be exported to various image formats. For this to work, we need to install two dependencies â€“ orca and psutil.

Orca stands for Open-source Report Creator App. It is an Electron app that helps generate images and reports of plotly graphs, dash apps, dashboards from the command line. It is the backbone of Plotly's Image Server. [Learn more here](https://plotly.com/python/orca-management/#what-is-orca)

### psutil

psutil stands for Python System and process Utilities. It is a cross-platform library for retrieving information on running processes and system utilization in Python. It implements many functionalities offered by UNIX command line tools such as: ps, top, netstat, ifconfig, who, etc. psutil supports all major operating systems such as Linux, Windows and MacOs

### Gunicorn

Gunicorn is a pure-Python HTTP server for WSGI applications that allows any Python applications run concurrently, running multiple Python processes within a single dyno.

# Complete Instructions

1. Clone the repo or download the zip file (unzip) and navigate to root directory.

1. You need to have Python downloaded and installed on your system. [Install python](https://www.python.org/downloads/)

1. Open up your IDE (Visual Studio Code) and Navigate to the root directory, and Install pipenv

   `pip install pipenv`

   ### Pipenv

   The Pipenv is a tool that automatically creates and manages a virtualenv for your projects. A combination of `pip` and a `virtual environment`. It adds/removes packages from your Pipfile as you install/uninstall packages.

1. The **Pipfile** contains all the packages necessary for the application to run, and is very important To install all the dependencies on your machine. Run

   `pipenv sync`

3) To avoid errors, on a windows machine (For other OSes, follow the instrucions accordingly). install Orca following the installation procedures from [Orca Github](https://github.com/plotly/orca).

   1. Download windows-release.zip from https://github.com/plotly/orca/releases
   2. Install the executable
   3. Right click on the desktop newly created Orca icon to get the path where the application was installed like so `Full\Path\to\orca\orca.exe`.
   4. Add the path to the orca (without the \orca.exe) to your environment variable PATH

4) To help plotly.py to locate the installed orca set the plotly.io.orca.config.executable property to the full path of your orca executable.

5) From the 'plotly\io' folder `Path\to\AppData\Local\Programs\Python\Python38-32\Lib\site-packages\plotly\io` open `_orca.py`

   #### Search for and Substitute:

   --# Try to find an executable

   --# -------------------------

   --#Search for executable name or path in config.executable
   executable = which(config.executable)
   path = os.environ.get("PATH", os.defpath)

   #### with:

   --# Try to find an executable

   --# -------------------------

   --# Search for executable name or path in config.executable
   executable = r"Full\Path\to\the\orca.exe"
   path = os.environ.get("PATH", os.defpath)

6.  **Orca is not available in the `PyPi` repository**.
    So use npm utility to install it locally as a node dependency.

    `npm install electron@1.8.4 orca`

# Setup server files and run application

7. In the root directory, create a `.env` file resembles the `.sample.env` file.
8. Still in the root directory, run

   `npm install`

9. Run the node server with

   `npm start`

10. On your browser navigate to

    `hostname:port`

    for example:

    `localhost:3000`

WhewðŸ¤•, that's it!...
